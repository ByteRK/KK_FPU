#default config
#Date: 2018.01.02
#Author: Ricken

[General]
ipv6 = false
skip-proxy = 10.0.0.0/8,127.0.0.0/8,169.254.0.0/16,192.0.2.0/24,192.168.0.0/16,198.51.100.0/24,224.0.0.0/4,*.local,localhostlocal
bypass-tun = 10.0.0.0/8,127.0.0.0/8,169.254.0.0/16,192.0.2.0/24,192.168.0.0/16,198.51.100.0/24,224.0.0.0/4
# [DNS] => DNS æœåŠ¡å™¨
dns-server = system,114.114.114.114,8.8.8.8,1.2.4.8,119.29.29.29,223.5.5.5
allow-wifi-access = false
wifi-access-http-port = 7222
wifi-access-socket5-port = 7221
proxy-test-url = http://www.qualcomm.cn/generate_204
test-timeout = 3
allow-udp-proxy = true
host = 127.0.0.1

[Remote Proxy]
# è®¢é˜…èŠ‚ç‚¹
# åˆ«å = è®¢é˜…URL

[Remote Filter]
ğŸ¥·ğŸ» = NameKeyword, FilterKey = "-"
ğŸ’£ = NameKeyword,TNTv2, FilterKey = "["
æ–°åŠ å¡ğŸ‡¸ğŸ‡¬ = NameRegex, FilterKey = "Singapore|æ–°åŠ å¡"
æ—¥æœ¬ğŸ‡¯ğŸ‡µ = NameRegex, FilterKey = "Japan|æ—¥æœ¬"
é¦™æ¸¯ğŸ‡­ğŸ‡° = NameRegex, FilterKey = "HongKong|é¦™æ¸¯"
ç¾å›½ğŸ‡ºğŸ‡¸ = NameRegex, FilterKey = "America|ç¾å›½"
âš¡ï¸ = NameKeyword,é—ªç”µ, FilterKey = "|"
# ç­›é€‰è®¢é˜…èŠ‚ç‚¹ï¼Œç­›é€‰åçš„ç»“æœå¯åŠ å…¥åˆ°ç­–ç•¥ç»„ä¸­ï¼Œç›®å‰æ”¯æŒä¸‰ç§ç­›é€‰æ–¹å¼
# NodeSelect: ä½¿ç”¨åœ¨UIä¸Šé€‰æ‹©çš„èŠ‚ç‚¹ã€‚
# NameKeyword: æ ¹æ®æä¾›çš„å…³é”®è¯å¯¹è®¢é˜…ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„åç§°è¿›è¡Œç­›é€‰ï¼Œä½¿ç”¨ç­›é€‰åçš„èŠ‚ç‚¹ã€‚
# NameRegex: æ ¹æ®æä¾›çš„æ­£åˆ™è¡¨è¾¾å¼å¯¹è®¢é˜…ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„åç§°è¿›è¡Œç­›é€‰ï¼Œä½¿ç”¨ç­›é€‰åçš„èŠ‚ç‚¹ã€‚

[Proxy]
Music = http,106.52.127.72,19951
# vmess
# æœ¬åœ°èŠ‚ç‚¹
# èŠ‚ç‚¹åç§° = åè®®ï¼ŒæœåŠ¡å™¨åœ°å€ï¼ŒæœåŠ¡å™¨ç«¯å£ï¼ŒåŠ å¯†åè®®ï¼Œå¯†ç 
# èŠ‚ç‚¹åç§° = åè®®ï¼ŒæœåŠ¡å™¨åœ°å€ï¼Œç«¯å£ï¼ŒåŠ å¯†æ–¹å¼ï¼ŒUUIDï¼Œä¼ è¾“æ–¹å¼:(tcp/ws),pathï¼šwebsocketæ¡æ‰‹headerä¸­çš„pathï¼Œhostï¼šwebsocketæ¡æ‰‹headerä¸­çš„pathï¼Œover-tls:æ˜¯å¦tlsï¼Œtls-nameï¼šè¿œç«¯wæœåŠ¡å™¨åŸŸåï¼Œskip-cert-verifyï¼šæ˜¯å¦è·³è¿‡è¯ä¹¦æ ¡éªŒï¼ˆé»˜è®¤å¦ï¼‰
#5 = vmess, 1.2.3.4, 10086, aes-128-gcm,â€uuidâ€œ,transport:ws,path:/,host:icloud.com,over-tls:true,tls-name:youtTlsServerName.com,skip-cert-verify:false


[Proxy Group]
âœˆï¸èŠ‚ç‚¹é€‰æ‹© = select,ğŸª¡ç›´è¿,ğŸ’£è‡ªåŠ¨æµ‹é€Ÿ,âš¡ï¸è‡ªåŠ¨æµ‹é€Ÿ,ğŸ’¨è‡ªç”±äººå£«,ğŸ’£æ‰‹åŠ¨é€‰æ‹©,âš¡ï¸æ‰‹åŠ¨é€‰æ‹©,ğŸ¤æ‰‹åŠ¨é€‰æ‹©,ğŸ™‹ğŸ½â€â™‚ï¸è‡ªç”±äººå£«,ğŸ¤“å¥åº·æ£€æµ‹,Test
ğŸ’£è‡ªåŠ¨æµ‹é€Ÿ = url-test,DIRECT,ğŸ’£,url = http://bing.com/,interval = 600
âš¡ï¸è‡ªåŠ¨æµ‹é€Ÿ = url-test,âš¡ï¸,url = http://www.qualcomm.cn/generate_204,interval = 600
ğŸ’¨è‡ªç”±äººå£« = url-test,ğŸ¥·ğŸ»,url = http://bing.com/,interval = 600
ğŸ’£æ‰‹åŠ¨é€‰æ‹© = select,ğŸª¡ç›´è¿,ğŸ’£
âš¡ï¸æ‰‹åŠ¨é€‰æ‹© = select,âš¡ï¸
ğŸ¤æ‰‹åŠ¨é€‰æ‹© = select,å‡ é¸¡ğŸ”
ğŸ™‹ğŸ½â€â™‚ï¸è‡ªç”±äººå£« = select,ğŸ¥·ğŸ»
ğŸ¤“å¥åº·æ£€æµ‹ = fallback,REJECT,url = http://bing.com/,interval = 600,max-timeout = 3000
ğŸ„â€â™€ï¸å¤–ç½‘å†²æµª = select,âœˆï¸èŠ‚ç‚¹é€‰æ‹©,ğŸ’£æ‰‹åŠ¨é€‰æ‹©,ğŸ™‹ğŸ½â€â™‚ï¸è‡ªç”±äººå£«
ğŸ¬æ²¹ç®¡è§†é¢‘ = select,âœˆï¸èŠ‚ç‚¹é€‰æ‹©,ğŸ’£æ‰‹åŠ¨é€‰æ‹©,ğŸ™‹ğŸ½â€â™‚ï¸è‡ªç”±äººå£«
ğŸ§šğŸ»â€â™€ï¸ç½‘æ˜“éŸ³ä¹ = select,ğŸª¡ç›´è¿,Music
ğŸ‹è‹¹æœæœåŠ¡ = select,ğŸª¡ç›´è¿,âœˆï¸èŠ‚ç‚¹é€‰æ‹©
ğŸ¤¹ğŸ¼â€â™‚ï¸å›½é™…æŠ–éŸ³ = select,âœˆï¸èŠ‚ç‚¹é€‰æ‹©,ğŸª¡ç›´è¿
ğŸ“ºç½‘é£è§†é¢‘ = select,ğŸª¡ç›´è¿,âœˆï¸èŠ‚ç‚¹é€‰æ‹©
ğŸš€ç½‘é€Ÿæµ‹è¯• = select,ğŸª¡ç›´è¿
ğŸ‘¨ğŸ¼â€ğŸ’»å¹¿å‘Šæ‹¦æˆª = select,ğŸ™ˆæ‹¦æˆª,ğŸª¡ç›´è¿
ğŸª¡ç›´è¿ = select,DIRECT
ğŸ™ˆæ‹¦æˆª = select,REJECT
ğŸŒ¶é»‘ç™½åå• = select,ğŸª¡ç›´è¿,âœˆï¸èŠ‚ç‚¹é€‰æ‹©
ğŸ”PornHub = select,ğŸ™ˆæ‹¦æˆª,âœˆï¸èŠ‚ç‚¹é€‰æ‹©,ğŸ’£æ‰‹åŠ¨é€‰æ‹©,ğŸ™‹ğŸ½â€â™‚ï¸è‡ªç”±äººå£«
Test = select,SDK  DNS

# ç­–ç•¥ç»„
# å†…ç½® DIRECTã€REJECT ç­–ç•¥
# ç™½åå•æ¨¡å¼ PROXYï¼Œé»‘åå•æ¨¡å¼ DIRECT
# ç”¨äºè§„åˆ™ä¹‹å¤–çš„æ¼ç½‘ä¹‹é±¼
# èŠ‚ç‚¹é€‰é¡¹
# url-testæ¨¡å¼ï¼Œç»™æä¾›çš„urlå‘å‡ºhttp headerè¯·æ±‚ï¼Œæ ¹æ®è¿”å›ç»“æœï¼Œé€‰æ‹©æµ‹é€Ÿæœ€å¿«çš„èŠ‚ç‚¹ï¼Œé»˜è®¤é—´éš”600sï¼Œæµ‹é€Ÿè¶…æ—¶æ—¶é—´5sï¼Œä¸ºäº†é¿å…èµ„æºæµªè´¹ï¼Œå»ºè®®èŠ‚ç‚¹æ•°ä¸è¦è¿‡å¤šï¼Œåªæ”¯æŒå•ä¸ªèŠ‚ç‚¹å’Œè¿œç«¯èŠ‚ç‚¹ï¼Œå…¶ä»–ä¼šè¢«å¿½ç•¥
# selectæ¨¡å¼,æ‰‹åŠ¨é€‰æ‹©æ¨¡å¼
# fallbackæ¨¡å¼ï¼Œå’Œurl-testç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ä¼šæ ¹æ®é¡ºåºè¿”å›ç¬¬ä¸€ä¸ªå¯ç”¨çš„èŠ‚ç‚¹ï¼Œä¸ºäº†é¿å…èµ„æºæµªè´¹ï¼Œå»ºè®®èŠ‚ç‚¹æ•°ä¸è¦è¿‡å¤šï¼Œåªæ”¯æŒå•ä¸ªèŠ‚ç‚¹å’Œè¿œç«¯èŠ‚ç‚¹ï¼Œå…¶ä»–ä¼šè¢«å¿½ç•¥
# SSID
# åˆ«å = ssidï¼Œé»˜è®¤ = ç­–ç•¥ï¼Œ èœ‚çª = ç­–ç•¥ï¼Œ ssidåç§° = ç­–ç•¥
#SSID = ssid, default = PROXY, cellular = DIRECT, â€DivineEngineâ€œ = PROXY

[Rule]
DOMAIN-KEYWORD,jdsharedresourcescdn,ğŸ„â€â™€ï¸å¤–ç½‘å†²æµª
DOMAIN-KEYWORD,google,ğŸ„â€â™€ï¸å¤–ç½‘å†²æµª
DOMAIN-SUFFIX,music.126.net,DIRECT#ç½‘æ˜“äº‘éŸ³ä¹
GEOIP,CN,ğŸª¡ç›´è¿#GeoIP China
FINAL,ğŸª¡ç›´è¿
# æœ¬åœ°è§„åˆ™
# Type:DOMAIN-SUFFIX,DOMAIN,DOMAIN-KEYWORD,USER-AGENT,URL-REGEX,IP-CIDR
# Strategy:DIRECT,Proxy,REJECT
# Options:force-remote-dns(Default:false),no-resolve

[Remote Rule]
https://github.com/NobyDa/Script/blob/master/Surge/AdRule.list, policy=ğŸ‘¨ğŸ¼â€ğŸ’»å¹¿å‘Šæ‹¦æˆª, tag=NobyDa, enabled=false
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list, policy=ğŸª¡ç›´è¿, tag=å¢™å¤–ä¸­å›½, enabled=true
https://raw.githubusercontent.com/eHpo1/Rules/master/Surge4/Ruleset/Liby.list, policy=ğŸ‘¨ğŸ¼â€ğŸ’»å¹¿å‘Šæ‹¦æˆª, tag=Liby, enabled=true
# BlockOTAå±è”½ç³»ç»Ÿæ›´æ–°
https://raw.githubusercontent.com/nzw9314/Surge/master/Ruleset/BlockOTA.list, policy=ğŸ‘¨ğŸ¼â€ğŸ’»å¹¿å‘Šæ‹¦æˆª, tag=BlockOTA, enabled=true
# Antirevoke(æ— è§†è¯ä¹¦å¤±æ•ˆ)
https://raw.githubusercontent.com/nzw9314/Surge/master/Ruleset/Antirevoke.list, policy=ğŸ‘¨ğŸ¼â€ğŸ’»å¹¿å‘Šæ‹¦æˆª, tag=Antirevoke, enabled=true
# > TikTok
https://raw.githubusercontent.com/nzw9314/Surge/master/Ruleset/TikTok.list, policy=ğŸ¤¹ğŸ¼â€â™‚ï¸å›½é™…æŠ–éŸ³, tag=å›½é™…æŠ–éŸ³, enabled=false
# > Youtube
https://raw.githubusercontent.com/eHpo1/Rules/master/Surge4/Ruleset/Sub/YouTube.list, policy=ğŸ¬æ²¹ç®¡è§†é¢‘, tag=YouTube, enabled=false
# > Netflix
https://raw.githubusercontent.com/eHpo1/Rules/master/Surge4/Ruleset/Sub/Netflix.list, policy=ğŸ“ºç½‘é£è§†é¢‘, tag=Netflix, enabled=false
# > PronHub
https://raw.githubusercontent.com/eHpo1/Rules/master/Surge4/Ruleset/Sub/Pornhub.list, policy=ğŸ”PornHub, tag=Pornhub, enabled=false
# Telegram
https://raw.githubusercontent.com/eHpo1/Rules/master/Surge4/Ruleset/Sub/Telegram.list, policy=ğŸ„â€â™€ï¸å¤–ç½‘å†²æµª, tag=Telegram, enabled=true
# > PayPal
https://raw.githubusercontent.com/eHpo1/Rules/master/Surge4/Ruleset/Sub/PayPal.list, policy=âœˆï¸èŠ‚ç‚¹é€‰æ‹©, tag=Paypal, enabled=false
# > Outlookã€Gmail
https://raw.githubusercontent.com/nzw9314/Surge/master/Ruleset/Mail.list, policy=âœˆï¸èŠ‚ç‚¹é€‰æ‹©, tag=é‚®ä»¶æœåŠ¡, enabled=true
# > GoogleDrive
https://raw.githubusercontent.com/nzw9314/Surge/master/Ruleset/GoogleDrive.list, policy=ğŸ¬æ²¹ç®¡è§†é¢‘, tag=è°·æ­ŒæœåŠ¡, enabled=true
# Speedtest
https://raw.githubusercontent.com/eHpo1/Rules/master/Surge4/Ruleset/Sub/Speedtest.list, policy=ğŸš€ç½‘é€Ÿæµ‹è¯•, tag=Speedtest, enabled=true

# >Unlock NeteaseMusic
https://raw.githubusercontent.com/nzw9314/Surge/master/Ruleset/UnlockNeteaseMusic.list, policy=ğŸ§šğŸ»â€â™€ï¸ç½‘æ˜“éŸ³ä¹, tag=ç½‘æ˜“äº‘è§£é”, enabled=true

https://raw.githubusercontent.com/eHpo1/Rules/master/Surge4/Ruleset/Apple_CDN.list, policy=ğŸ‹è‹¹æœæœåŠ¡, tag=Apple_CDN, enabled=true
https://raw.githubusercontent.com/eHpo1/Rules/master/Surge4/Ruleset/Apple_API.list, policy=ğŸ‹è‹¹æœæœåŠ¡, tag=Apple_API, enabled=true

https://raw.githubusercontent.com/eHpo1/Rules/master/Surge4/Ruleset/AsianMedia.list, policy=ğŸª¡ç›´è¿, tag=AsianMedia, enabled=true
https://raw.githubusercontent.com/eHpo1/Rules/master/Surge4/Ruleset/GlobalMedia.list, policy=ğŸ™‹ğŸ½â€â™‚ï¸è‡ªç”±äººå£«, tag=GlobalMedia, enabled=true

https://raw.githubusercontent.com/eHpo1/Rules/master/Surge4/Ruleset/Domestic.list, policy=ğŸª¡ç›´è¿, tag=Domestic, enabled=true

https://raw.githubusercontent.com/eHpo1/Rules/master/Surge4/Ruleset/Global.list, policy=ğŸ„â€â™€ï¸å¤–ç½‘å†²æµª, tag=Global, enabled=true

[URL Rewrite]
# æœ¬åœ°é‡å†™

# > TikTok Unlock (By Choler)
# åŒºåŸŸè¯·ä¿®æ”¹ä¸‹æ–¹å›½å®¶ä»£ç ï¼Œé»˜è®¤ä¸ºæ—¥æœ¬ JP

(?<=_region=)CN(?=&) JP 307
(?<=&app_version=)16..(?=.?.?&) 1 307
(?<=\?version_code=)16..(?=.?.?&) 1 307

# > æŠ–éŸ³ å»å¹¿å‘Š&æ°´å°
# éœ€é…åˆè„šæœ¬ä½¿ç”¨
^https?:\/\/[\w-]+\.amemv\.com\/aweme\/v\d\/feed\/ https://aweme.snssdk.com/aweme/v1/feed/ header
^https?:\/\/[\w-]+\.amemv\.com\/aweme\/v\d\/aweme\/post\/ https://aweme.snssdk.com/aweme/v1/aweme/post/ header
^https?:\/\/[\w-]+\.amemv\.com\/aweme\/v\d\/follow\/feed\/ https://aweme.snssdk.com/aweme/v1/follow/feed/ header
^https?:\/\/[\w-]+\.amemv\.com\/aweme\/v\d\/nearby\/feed\/ https://aweme.snssdk.com/aweme/v1/nearby/feed/ header
^https?:\/\/[\w-]+\.amemv\.com\/aweme\/v\d\/search\/item\/ https://aweme.snssdk.com/aweme/v1/search/item/ header
^https?:\/\/[\w-]+\.amemv\.com\/aweme\/v\d\/general\/search\/single\/ https://aweme.snssdk.com/aweme/v1/general/search/single/ header
^https?:\/\/[\w-]+\.amemv\.com\/aweme\/v\d\/hot/search\/video\/list\/ https://aweme.snssdk.com/aweme/v1/hot/search/video/list/ header

enable = true

[Remote Rewrite]
#è®¢é˜…é‡å†™ by eHpo
# æ ¼å¼ï¼šè®¢é˜…urlï¼Œåˆ«å(å¯é€‰)
https://raw.githubusercontent.com/eHpo1/Rules/master/Loon/Rewrite.conf, tag=eHpo, enabled=false
https://raw.githubusercontent.com/nzw9314/Loon/master/Q-Search_All_in_one.conf, tag=Q-Search_All_in_one, enabled=false

[Script]
# æœ¬åœ°è„šæœ¬
enable = true
cron "10 10 2 * * *" script-path=JD_DailyBonus.js, tag=äº¬ä¸œ
cron "5 6-18/6 * * *" script-path=https://raw.githubusercontent.com/HackRicken/JD_FPU/main/jd_fruit.js, enabled=false, tag=äº¬ä¸œå†œåœº
cron "15 0-23/2 * * *" script-path=https://raw.githubusercontent.com/HackRicken/JD_FPU/main/jd_joy.js, enabled=false, tag=å® æ±ªæ±ª
cron "5 0 * * *" script-path=https://github.com/HackRicken/Quantumult_X/blob/3f28bbf2b6f973aba7c0cd924d87454017d7e79e/check_in/wechatsubs/wechatsubs.js, enabled=false, tag=å…¬ä¼—å·
cron "0 30 7 * * *" script-path=cron_daily.js, enabled=false, tag=æ¯æ—¥ä¸€å¥+èš‚èšæ£®æ—æ”¶èƒ½é‡
cron "10 0 * * *" script-path=index.js, enabled=false, tag=ç”Ÿæ—¥å€’è®¡æ—¶

http-response ^https?:\/\/vsco\.co\/api\/subscriptions\/2.1\/user-subscriptions\/ script-path=VSCO.js, requires-body=true, timeout=10, enabled=false, tag=vsco

[Remote Script]
https://jdsharedresourcescdn.azureedge.net/jdresource/lxk0301_LoonTask.conf, tag=LXK0301, enabled=true
https://raw.githubusercontent.com/HackRicken/JD_FPU/main/Loon/lxk0301_LoonTask.conf, tag=JD_FPU, enabled=false
https://raw.githubusercontent.com/nzw9314/Loon/master/Task.conf, tag=ç­¾åˆ°, enabled=true
https://raw.githubusercontent.com/nzw9314/Loon/master/Script.conf, tag=è„šæœ¬, enabled=true
https://raw.githubusercontent.com/nzw9314/Loon/master/Cookie.conf, tag=Cookie, enabled=false
https://raw.githubusercontent.com/NobyDa/Script/master/Loon/Loon_TF_Download.conf, tag=TF, enabled=false
# è¿œç¨‹è„šæœ¬

[Plugin]
https://raw.githubusercontents.com/Tartarus2014/Loon-Script/master/Plugin/Unlock/TikTokTW.plugin, proxy=DIRECT, tag=TikTop, enabled=false

[MITM]
enable = true
hostname = weather-data.apple.com,api.weather.com,account.huami.com,*.googlevideo.com.bak, vsco.co